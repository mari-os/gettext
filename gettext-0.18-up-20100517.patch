--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,10 @@
+2010-05-15  Bruno Haible  <bruno@clisp.org>
+
+	List the build dependencies.
+	* DEPENDENCIES: Clarify that 'git' is also a build dependencies.
+	List the non-trivial build dependencies.
+	Reported by Santiago Vila <sanvila@unex.es>.
+
 2010-05-09  Bruno Haible  <bruno@clisp.org>
 
 	* gettext-0.18 released.
--- a/DEPENDENCIES
+++ b/DEPENDENCIES
@@ -1,4 +1,5 @@
-The following packages should be installed before GNU gettext is installed:
+The following packages should be installed before GNU gettext is installed
+(runtime dependencies that are also build dependencies):
 
 * GNU libiconv
   + Not needed on systems with
@@ -60,6 +61,14 @@ The following packages should be installed before GNU gettext is installed:
   + If more than one C# is installed, pass the option --enable-csharp=IMPL
     to 'configure', to disambiguate.
 
+* git 1.6 or newer
+  + Recommended.
+    Needed by the 'autopoint' program, if configured with --with-git.
+  + Homepage:
+    http://git-scm.com/
+  + Download:
+    http://www.kernel.org/pub/software/scm/git/
+
 * libxml2
   + Optional.
     Needed for the --color option of the various programs.
@@ -96,7 +105,9 @@ The following packages should be installed before GNU gettext is installed:
   + If it is installed in a nonstandard directory, pass the option
     --with-libcroco-0.6-prefix=DIR to 'configure'.
 
-The following packages should be installed when GNU gettext is installed:
+
+The following packages should be installed when GNU gettext is installed
+(runtime dependencies, but not build dependencies):
 
 * CVS 1.11 or newer
   + Recommended.
@@ -108,10 +119,77 @@ The following packages should be installed when GNU gettext is installed:
   + Download:
     http://ftp.gnu.org/non-gnu/cvs/
 
-* git 1.6 or newer
+
+The following should be installed when GNU gettext is built, but are not
+needed later, once it is installed (build dependencies, but not runtime
+dependencies):
+
+* A C runtime, compiler, linker, etc.
+  + Mandatory. Either the platform's native 'cc', or GCC 2.95 or newer.
+  + GCC Homepage:
+    http://gcc.gnu.org/
+  + Download:
+    http://ftp.gnu.org/gnu/gcc/
+    ftp://ftp.gnu.org/gnu/gcc/
+
+* A 'make' utility.
+  + Mandatory. Either the platform's native 'make' (for in-tree builds only),
+    or GNU Make 3.79.1 or newer.
+  + GNU Make Homepage:
+    http://www.gnu.org/software/make/
+  + Download:
+    http://ftp.gnu.org/gnu/make/
+    ftp://ftp.gnu.org/gnu/make/
+
+* A shell
+  + Mandatory. Either the platform's native 'sh', or Bash.
+  + Homepage:
+    http://www.gnu.org/software/bash/
+  + Download:
+    http://ftp.gnu.org/gnu/bash/
+    ftp://ftp.gnu.org/gnu/bash/
+
+* Core POSIX utilities, including:
+    [ basename cat chgrp chmod chown cp dd echo expand expr
+    false hostname install kill ln ls md5sum mkdir mkfifo
+    mknod mv printenv pwd rm rmdir sleep sort tee test touch
+    true uname
+  + Mandatory. Either the platform's native utilities, or GNU coreutils.
+  + Homepage:
+    http://www.gnu.org/software/coreutils/
+  + Download:
+    http://ftp.gnu.org/gnu/coreutils/
+    ftp://ftp.gnu.org/gnu/coreutils/
+
+* The comparison utilities 'cmp' and 'diff'.
+  + Mandatory. Either the platform's native utilities, or GNU diffutils.
+  + Homepage:
+    http://www.gnu.org/software/diffutils/
+  + Download:
+    http://ftp.gnu.org/gnu/diffutils/
+    ftp://ftp.gnu.org/gnu/diffutils/
+
+* Grep.
+  + Mandatory. Either the platform's native grep, or GNU grep.
+  + Homepage:
+    http://www.gnu.org/software/grep/
+  + Download:
+    http://ftp.gnu.org/gnu/grep/
+    ftp://ftp.gnu.org/gnu/grep/
+
+* CVS 1.11 or newer
   + Recommended.
-    Needed by the 'autopoint' program, if configured with --with-git.
+    Needed if configuring with --without-cvs or --with-git.
   + Homepage:
-    http://git-scm.com/
+    http://ximbiot.com/cvs/wiki/index.php?title=Main_Page
+    http://www.nongnu.org/cvs/
   + Download:
-    http://www.kernel.org/pub/software/scm/git/
+    http://ftp.gnu.org/non-gnu/cvs/
+
+* RCS 5.7 or newer
+  + Recommended.
+    Needed if configuring with --without-cvs or --with-git.
+  + Homepage:
+    http://www.cs.purdue.edu/homes/trinkle/RCS/
+  + Download:
+    http://www.cs.purdue.edu/homes/trinkle/RCS/rcs-5.7.tar
--- a/gettext-runtime/intl/ChangeLog
+++ b/gettext-runtime/intl/ChangeLog
@@ -1,3 +1,7 @@
+2010-05-16  Bruno Haible  <bruno@clisp.org>
+
+	* libgnuintl.h.in (printf): Add comment.
+
 2010-05-09  Bruno Haible  <bruno@clisp.org>
 
 	* gettext-0.18 released.
--- a/gettext-runtime/intl/libgnuintl.h.in
+++ b/gettext-runtime/intl/libgnuintl.h.in
@@ -341,7 +341,13 @@ extern int vfprintf (FILE *, const char *, va_list);
 #if defined __NetBSD__ || defined __BEOS__ || defined __CYGWIN__ || defined __MINGW32__
 /* Don't break __attribute__((format(printf,M,N))).
    This redefinition is only possible because the libc in NetBSD, Cygwin,
-   mingw does not have a function __printf__.  */
+   mingw does not have a function __printf__.
+   Alternatively, we could have done this redirection only when compiling with
+   __GNUC__, together with a symbol redirection:
+       extern int printf (const char *, ...)
+              __asm__ (#__USER_LABEL_PREFIX__ "libintl_printf");
+   But doing it now would introduce a binary incompatibility with already
+   distributed versions of libintl on these systems.  */
 # define libintl_printf __printf__
 #endif
 #define printf libintl_printf
--- a/gettext-runtime/libasprintf/autosprintf.info
+++ /dev/null
@@ -1,134 +0,0 @@
-This is autosprintf.info, produced by makeinfo version 4.9 from
-autosprintf.texi.
-
-INFO-DIR-SECTION C++ libraries
-START-INFO-DIR-ENTRY
-* autosprintf: (autosprintf).   Support for printf format strings in C++.
-END-INFO-DIR-ENTRY
-
-   This file provides documentation for GNU `autosprintf' library.
-
-   Copyright (C) 2002-2003, 2006-2007 Free Software Foundation, Inc.
-
-   This manual is free documentation.  It is dually licensed under the
-GNU FDL and the GNU GPL.  This means that you can redistribute this
-manual under either of these two licenses, at your choice.
-
-   This manual is covered by the GNU FDL.  Permission is granted to
-copy, distribute and/or modify this document under the terms of the GNU
-Free Documentation License (FDL), either version 1.2 of the License, or
-(at your option) any later version published by the Free Software
-Foundation (FSF); with no Invariant Sections, with no Front-Cover Text,
-and with no Back-Cover Texts.  A copy of the license is at
-`http://www.gnu.org/licenses/fdl.html'.
-
-   This manual is covered by the GNU GPL.  You can redistribute it
-and/or modify it under the terms of the GNU General Public License
-(GPL), either version 2 of the License, or (at your option) any later
-version published by the Free Software Foundation (FSF).  A copy of the
-license is at `http://www.gnu.org/licenses/gpl.html'.
-
-
-File: autosprintf.info,  Node: Top,  Next: Introduction,  Prev: (dir),  Up: (dir)
-
-GNU autosprintf
-***************
-
-This manual documents the GNU autosprintf class, version 1.0.
-
-* Menu:
-
-* Introduction::                Introduction
-* Class autosprintf::           The `autosprintf' class
-* Using autosprintf::           Using `autosprintf' in own programs
-
-
-File: autosprintf.info,  Node: Introduction,  Next: Class autosprintf,  Prev: Top,  Up: Top
-
-1 Introduction
-**************
-
-This package makes the C formatted output routines (`fprintf' et al.)
-usable in C++ programs, for use with the `<string>' strings and the
-`<iostream>' streams.
-
-   It allows to write code like
-
-     cerr << autosprintf ("syntax error in %s:%d: %s", filename, line, errstring);
-
-instead of
-
-     cerr << "syntax error in " << filename << ":" << line << ": " << errstring;
-
-   The benefits of the autosprintf syntax are:
-
-   * It reuses the standard POSIX printf facility. Easy migration from
-     C to C++.
-
-   * English sentences are kept together.
-
-   * It makes internationalization possible. Internationalization
-     requires format strings, because in some cases the translator
-     needs to change the order of a sentence, and more generally it is
-     easier for the translator to work with a single string for a
-     sentence than with multiple string pieces.
-
-   * It reduces the risk of programming errors due to forgotten state
-     in the output stream (e.g. `cout << hex;' not followed by `cout <<
-     dec;').
-
-
-File: autosprintf.info,  Node: Class autosprintf,  Next: Using autosprintf,  Prev: Introduction,  Up: Top
-
-2 The `autosprintf' class
-*************************
-
-An instance of class `autosprintf' just contains a string with the
-formatted output result. Such an instance is usually allocated as an
-automatic storage variable, i.e. on the stack, not with `new' on the
-heap.
-
-   The constructor `autosprintf (const char *format, ...)' takes a
-format string and additional arguments, like the C function `printf'.
-
-   Conversions to `char *' and `std::string' are defined that return
-the encapsulated string.  The conversion to `char *' returns a freshly
-allocated copy of the encapsulated string; it needs to be freed using
-`delete[]'.  The conversion to `std::string' returns a copy of the
-encapsulated string, with automatic memory management.
-
-   The destructor `~autosprintf ()' destroys the encapsulated string.
-
-   An `operator <<' is provided that outputs the encapsulated string to
-the given `ostream'.
-
-
-File: autosprintf.info,  Node: Using autosprintf,  Prev: Class autosprintf,  Up: Top
-
-3 Using `autosprintf' in own programs
-*************************************
-
-To use the `autosprintf' class in your programs, you need to add
-
-     #include "autosprintf.h"
-     using gnu::autosprintf;
-
-to your source code.  The include file defines the class `autosprintf',
-in a namespace called `gnu'. The `using' statement makes it possible to
-use the class without the (otherwise natural) `gnu::' prefix.
-
-   When linking your program, you need to link with `libasprintf',
-because that's where the class is defined. In projects using GNU
-`autoconf', this means adding `AC_LIB_LINKFLAGS([asprintf])' to
-`configure.in' or `configure.ac', and using the @LIBASPRINTF@ Makefile
-variable that it provides.
-
-
-
-Tag Table:
-Node: Top1347
-Node: Introduction1707
-Node: Class autosprintf2858
-Node: Using autosprintf3868
-
-End Tag Table
--- a/gettext-runtime/m4/ChangeLog
+++ b/gettext-runtime/m4/ChangeLog
@@ -1,3 +1,8 @@
+2010-05-16  Bruno Haible  <bruno@clisp.org>
+
+	Avoid autoconf warnings about AM_ICONV.
+	* iconv.m4 (AM_ICONV): Define using AC_DEFUN_ONCE for autoconf >= 2.64.
+
 2010-05-09  Bruno Haible  <bruno@clisp.org>
 
 	* gettext-0.18 released.
--- a/gettext-runtime/m4/iconv.m4
+++ b/gettext-runtime/m4/iconv.m4
@@ -1,4 +1,4 @@
-# iconv.m4 serial 9 (gettext-0.18)
+# iconv.m4 serial 10 (gettext-0.18.1)
 dnl Copyright (C) 2000-2002, 2007-2010 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
@@ -170,7 +170,10 @@ int main ()
   AC_SUBST([LTLIBICONV])
 ])
 
-AC_DEFUN([AM_ICONV],
+dnl Define AM_ICONV using AC_DEFUN_ONCE for Autoconf >= 2.64, in order to
+dnl avoid warnings like
+dnl "warning: AC_REQUIRE: `AM_ICONV' was expanded before it was required".
+m4_version_prereq([2.64],[AC_DEFUN_ONCE],[AC_DEFUN])([AM_ICONV],
 [
   AM_ICONV_LINK
   if test "$am_cv_func_iconv" = yes; then
--- a/gettext-tools/misc/ChangeLog
+++ b/gettext-tools/misc/ChangeLog
@@ -1,3 +1,27 @@
+2010-05-16  Bruno Haible  <bruno@clisp.org>
+
+	convert-archive: Don't publicize the builder's name and email.
+	* convert-archive.in: Unset GIT_CONFIG and set dummy user.name and
+	user.email parameters.
+	Reported by Santiago Vila <sanvila@unex.es>.
+
+2010-05-16  Bruno Haible  <bruno@clisp.org>
+
+	Avoid keyword substitution in cvs archives created by convert-archive.
+	* convert-archive.in: When creating a cvs archive, use "cvs admin -ko"
+	on all files.
+
+2010-05-16  Bruno Haible  <bruno@clisp.org>
+
+	Make convert-archive more robust.
+	* convert-archive.in: Report a fatal error in many error conditions.
+	Reported by Santiago Vila <sanvila@unex.es>.
+
+2010-05-16  Bruno Haible  <bruno@clisp.org>
+
+	* convert-archive.in: Remove known 'rlog' warning from error output.
+	(func_version): Update copyright years.
+
 2010-05-09  Bruno Haible  <bruno@clisp.org>
 
 	* gettext-0.18 released.
--- a/gettext-tools/misc/convert-archive.in
+++ b/gettext-tools/misc/convert-archive.in
@@ -1,6 +1,6 @@
 #! /bin/sh
 #
-# Copyright (C) 2009 Free Software Foundation, Inc.
+# Copyright (C) 2009-2010 Free Software Foundation, Inc.
 #
 # This program is free software: you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -46,7 +46,7 @@ Report bugs to <bug-gnu-gettext@gnu.org>."
 func_version ()
 {
   echo "$progname (GNU $package) $version"
-  echo "Copyright (C) 2009 Free Software Foundation, Inc.
+  echo "Copyright (C) 2009-2010 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law."
@@ -90,7 +90,8 @@ mkdir "$unpacked" || {
 # Unpack the original archive.
 case "$from" in
   dir)
-    gzip -d -c < "$fromfile" | (cd "$unpacked" && tar xf -)
+    gzip -d -c < "$fromfile" | (cd "$unpacked" && tar xf -) \
+      || func_fatal_error "file copy failed"
     ;;
 
   cvs)
@@ -134,7 +135,7 @@ case "$from" in
 
     # Need to pass -d "$CVSROOT", because there may be a CVS directory in the
     # current directory.
-    cvs -d "$CVSROOT" init
+    cvs -d "$CVSROOT" init || func_fatal_error "cvs init failed"
     gzip -d -c < "$fromfile" | (cd "$cvs_dir" && tar xf -)
 
     # A witness that contains all versions.
@@ -150,19 +151,24 @@ ba
 }
 /^keyword substitution:/q'
     sed_extract_tags_from_log2='s/^	\([^:]*\):.*/\1/'
+    rlog_harmless_warning_regex="warning: Unknown phrases like \`commitid \.\.\.;' are present\."
     tags=`
-      LC_ALL=C rlog "$cvs_dir"/archive/$witness,v | \
-      sed -n -e "$sed_extract_tags_from_log1" | \
-      sed -e "$sed_extract_tags_from_log2"`
+      ( LC_ALL=C rlog "$cvs_dir"/archive/$witness,v 2>&1 1>&3 \
+        | grep -v "$rlog_harmless_warning_regex" 1>&2 ) 3>&1 \
+      | sed -n -e "$sed_extract_tags_from_log1" \
+      | sed -e "$sed_extract_tags_from_log2"`
+    test -n "$tags" || func_fatal_error "no release tags found"
     sed_tag_to_version='s/_/./g'
     for tag in $tags; do
       if test $tag != release; then
         version=`echo "$tag" | sed -e "$sed_tag_to_version"`
         (cd "$work_dir"
-         (cvs -d "$CVSROOT" checkout -r"$tag" archive > /dev/null) 2>&1 | grep -v '^cvs checkout: Updating'
+         cvs -d "$CVSROOT" checkout -r"$tag" archive > /dev/null 2> cvs.err \
+           || { cat cvs.err 1>&2; exit 1; }
+         cat cvs.err | grep -v '^cvs checkout: Updating'
          find archive -name CVS -type d -print | xargs rm -rf
          rm -rf CVS
-        )
+        ) || func_fatal_error "cvs checkout failed"
         mv "$work_dir"/archive "$unpacked/$version"
       fi
     done
@@ -182,17 +188,21 @@ ba
       fi
     }
 
-    mkdir "$work_dir/master"
+    mkdir "$work_dir/master" || func_fatal_error "mkdir failed"
     gzip -d -c < "$fromfile" | (cd "$work_dir/master" && tar xf -)
     cd "$work_dir"
-    for tag in `cd master && git tag`; do
+    tags=`cd master && git tag`
+    test -n "$tags" || func_fatal_error "no release tags found"
+    for tag in $tags; do
       if test $tag != empty; then
         version=$tag
-        (cd master && git checkout -q $tag)
+        (cd master && git checkout -q $tag) \
+          || func_fatal_error "git checkout failed"
         rm -f master/.gitignore
         mv master/.git .git
-        mkdir "$unpacked/$version"
-        (cd master && tar cf - .) | (cd "$unpacked/$version" && tar xf -)
+        mkdir "$unpacked/$version" || func_fatal_error "mkdir failed"
+        (cd master && tar cf - .) | (cd "$unpacked/$version" && tar xf -) \
+          || func_fatal_error "file copy failed"
         mv .git master/.git
       fi
     done
@@ -204,7 +214,9 @@ esac
 # Create the target archive.
 case "$to" in
   dir)
-    (cd "$unpacked" && tar cf - --owner=root --group=root *) | gzip -c -9 > "$tofile"
+    (cd "$unpacked" && tar cf - --owner=root --group=root *) \
+      | gzip -c -9 > "$tofile" \
+      || func_fatal_error "archive creation failed"
     ;;
 
   cvs)
@@ -242,7 +254,7 @@ case "$to" in
 
     # Need to pass -d "$CVSROOT", because there may be a CVS directory in the
     # current directory.
-    cvs -d "$CVSROOT" init
+    cvs -d "$CVSROOT" init || func_fatal_error "cvs init failed"
 
     # Add the contents of the unpacked directory to the repository.
     (cd "$unpacked"
@@ -250,24 +262,39 @@ case "$to" in
        cvsver=`echo "$version" | sed -e 's/\./_/g'`
        (cd $version
         CVSUSER=$cvsuser LD_PRELOAD=$cvsuser_hack \
-        cvs -d "$CVSROOT" import -m "Import $version" archive release "$cvsver"
-       )
+        cvs -d "$CVSROOT" import -m "Import $version" archive release "$cvsver" > /dev/null
+       ) || func_fatal_error "cvs import failed"
+       # In order to avoid keyword substitution, we have to use "cvs admin"
+       # in a temporary checkout.
+       mkdir tmpcheckout || func_fatal_error "mkdir failed"
+       (cd tmpcheckout \
+        && cvs -d "$CVSROOT" checkout -r"$cvsver" archive > /dev/null \
+        && cvs -d "$CVSROOT" admin -ko `find . -type f -print | sed -e 's,^\./,,' | grep -v '^CVS/' | grep -v '/CVS/'` > /dev/null
+       ) 2> cvs.err || { cat cvs.err 1>&2; func_fatal_error "cvs checkout or admin failed"; }
+       rm -rf tmpcheckout
      done
     )
-    (cd "$cvs_dir" && tar cf - --owner=root --group=root archive) | gzip -c -9 > "$tofile"
+    (cd "$cvs_dir" && tar cf - --owner=root --group=root archive) \
+      | gzip -c -9 > "$tofile" \
+      || func_fatal_error "archive creation failed"
     rm -rf "$cvs_dir" cvsuser.so
     ;;
 
   git)
     git_dir=`pwd`/tmpgit$$
-    mkdir "$git_dir"
+    mkdir "$git_dir" || func_fatal_error "mkdir failed"
+    unset GIT_CONFIG
     (cd "$git_dir" && {
       git init -q
+      git config user.name 'GNU Gettext Build'
+      git config user.email 'bug-gnu-gettext@gnu.org'
       touch .gitignore
       git add .
-      git commit --author="Bruno Haible <bruno@clisp.org>" --message="Empty directory" 2>&1 | grep -v '^ '
+      git commit --author="Bruno Haible <bruno@clisp.org>" \
+                 --message="Empty directory" 2>&1 \
+        | grep -v '^ '
       git tag empty
-    })
+    }) || func_fatal_error "git init failed"
     sed_remove_leading_dot='s,^\./,,'
     sed_remove_git_infrastructure='/^\.git/d'
     (cd "$unpacked"
@@ -280,13 +307,18 @@ case "$to" in
          fi
          tar xf -
          git add .
-         git commit --author="Bruno Haible <bruno@clisp.org>" --message="Import $version" 2>&1 | grep -v '^ '
+         git commit --author="Bruno Haible <bruno@clisp.org>" \
+                    --message="Import $version" 2>&1 \
+           | grep -v '^ '
          git tag "$version"
-       })
+       }) || func_fatal_error "file copy into git repository failed"
      done
     )
-    (cd "$git_dir" && git reset -q --hard empty && git repack -a -d -q)
-    (cd "$git_dir" && tar cf - --owner=root --group=root .git) | gzip -c -9 > "$tofile"
+    (cd "$git_dir" && git reset -q --hard empty && git repack -a -d -q) \
+      || func_fatal_error "git reset or repack failed"
+    (cd "$git_dir" && tar cf - --owner=root --group=root .git) \
+      | gzip -c -9 > "$tofile" \
+      || func_fatal_error "archive creation failed"
     rm -rf "$git_dir"
     ;;
 esac
--- a/gettext-tools/tests/ChangeLog
+++ b/gettext-tools/tests/ChangeLog
@@ -1,3 +1,11 @@
+2010-05-15  Bruno Haible  <bruno@clisp.org>
+
+	Avoid link error on MacOS X 10.4, due to replaced 'unsetenv' function.
+	* Makefile.am (gettext_6_prg_LDADD, gettext_7_prg_LDADD): Add
+	libgettextlib.la. Add $(LDADD).
+	(gettext_6_prg_LDADD_1, gettext_7_prg_LDADD_1): Remove $(LDADD) here.
+	Reported by <ryandesign> at <https://savannah.gnu.org/bugs/?29888>.
+
 2010-05-09  Bruno Haible  <bruno@clisp.org>
 
 	* gettext-0.18 released.
--- a/gettext-tools/tests/Makefile.am
+++ b/gettext-tools/tests/Makefile.am
@@ -223,13 +223,13 @@ gettext_5_prg_LDADD = ../gnulib-lib/libgettextlib.la $(LDADD)
 gettext_6_prg_SOURCES = gettext-6-prg.c
 gettext_6_prg_CFLAGS = $(gettext_6_prg_CFLAGS_@HAVE_NEWLOCALE@)
 gettext_6_prg_CFLAGS_1 = -DUSE_POSIX_THREADS
-gettext_6_prg_LDADD = $(gettext_6_prg_LDADD_@HAVE_NEWLOCALE@)
-gettext_6_prg_LDADD_1 = $(LDADD) -lpthread
+gettext_6_prg_LDADD = ../gnulib-lib/libgettextlib.la $(LDADD) $(gettext_6_prg_LDADD_@HAVE_NEWLOCALE@)
+gettext_6_prg_LDADD_1 = -lpthread
 gettext_7_prg_SOURCES = gettext-7-prg.c
 gettext_7_prg_CFLAGS = $(gettext_7_prg_CFLAGS_@HAVE_NEWLOCALE@)
 gettext_7_prg_CFLAGS_1 = -DUSE_POSIX_THREADS
-gettext_7_prg_LDADD = $(gettext_7_prg_LDADD_@HAVE_NEWLOCALE@)
-gettext_7_prg_LDADD_1 = $(LDADD) -lpthread
+gettext_7_prg_LDADD = ../gnulib-lib/libgettextlib.la $(LDADD) $(gettext_7_prg_LDADD_@HAVE_NEWLOCALE@)
+gettext_7_prg_LDADD_1 = -lpthread
 gettext_8_prg_SOURCES = gettext-8-prg.c
 gettext_8_prg_LDADD = ../gnulib-lib/libgettextlib.la $(LDADD)
 cake_SOURCES = plural-1-prg.c setlocale.c
